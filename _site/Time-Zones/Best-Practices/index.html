<!DOCTYPE html>
<html lang="en">

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>

    <title>Best practices</title>
    <meta name="description" content="My modified template for CalConnect" />

  
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" type="text/css" media="screen,projection" href="/assets/materialize.css" />
    <link rel="stylesheet" type="text/css" media="screen,projection" href="/assets/main.css">
    <link rel="canonical" href="/Time-Zones/Best-Practices/" />
    <link rel="alternate" type="application/rss+xml" title="CalConnect DEVGUIDE" href="/feed.xml" />
  
    
</head>


  <body>

    <nav class="deep-purple lighten-1" role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" class="brand-logo" href="/">CalConnect Developer's Guide</a>
    
    

          <ul class="right hide-on-med-and-down">
            <li><a href="/">Home </a></li>
            <li><a href="/Table-of-Contents/">Table of Contents</a></li>
            <li><a href="/Appendix/How-to-Contribute/">How to Contribute</a></li>
          </ul>

          <ul id="nav-mobile" class="side-nav">
            <li><a href="#">Home</a></li>
            <li><a href="/Table-of-Contents/">Table of Contents</a></li>
            <li><a href="/Appendix/How-to-Contribute/">How to Contribute</a></li>
          </ul>

      <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
    </div>
</nav>



        <div class="container">

    <h1 id="best-practices">Best practices</h1>

<h2 id="reliable-use-and-problem-detection">Reliable use and problem detection</h2>
<p>A zoned date and time is generally expected to refer to a fixed point in local time, e.g. the time when a meeting occurs, a log entry for a particular incident etc. Common practice is to convert to UTC and assume the local time is merely a display artifact.</p>

<p>However, to the attendee, or the motorist receiving a ticket, or the power engineer trying to determine exactly when an incident occurred, local time is what matters.</p>

<h3 id="what-happens-if-we-store-only-the-utc">What happens if we store only the UTC?</h3>
<p>Immediately we can state that anybody retrieving that data cannot determine if the UTC was calculated correctly. If the system storing that data has an old version of timezone data it may well have stored a time which is incorrect. The situation only gets worse over time. As data accumulates we have a mix of times, some calculated correctly, some incorrectly.</p>

<p>This is not an artificially constructed scenario. It is exactly what happened when the timezone rules for the US were changed.</p>

<p>How did vendors suggest that users correct their data? At least one suggested that users take screenshots of their calendar, apply a vendor patch which modified stored times and then compare the before and after.</p>

<h3 id="what-should-we-be-storing">What should we be storing?</h3>
<p>The situation is better if we store local time along with the timezone id. At least then we store the intent of the user - it’s almost always better to preserve the intent. However, that is still not perfect.</p>

<p>To allow full detection of dates and times that will need adjustment we should store 3 values:</p>
<ul>
  <li>The local time</li>
  <li>The timezone id</li>
  <li>The UTC or the offset.</li>
</ul>

<p>The UTC is generally more useful for the reasons most people store it: It’s monotonically increasing (if we ignore leap seconds) and it’s easy to calculate true intervals.</p>

<p>When timezone rules change we can now go through our stored data and recalculate the UTC value. If that value is unchanged we’re fine. If it has changed then we need to take some action. In the case of a meeting that action should ALWAYS be to reschedule. The process of agreeing to some meeting time involves settling on a common UTC time. If the timezone rules change then it is possible we are no longer able to attend that meeting at the original local time - represented by a new UTC or at a different local time - represented by the unchanged UTC. Additionally other attendees now need to be given the opportunity to review their own schedules.</p>

<h2 id="whats-wrong-with-floating-time">What’s wrong with floating time?</h2>
<p>Floating time is local time without a timezone. It has very few valid uses. A valid use might be to create an event for some daily activity that always takes place at a given time of day, such as exercise or lunch. However, note that if you share that calendar with someone else they will see those events take place at a time local to them.</p>

<p>In reality the event should probably be tied to the location of a person, something not currently possible with iCalendar.</p>

<p>In short - it’s inadvisable to use floating time for any event or task to be viewed by other people.</p>


</div>


    <footer class="white">
        <div class="container">
            <div><hr/></div>
            <div>
            	Was this page helpful for you? Please give us <a href="https://goo.gl/forms/NqKna6d4lsqUtlgD3" class="text-lighten-3" target="_new">Feedback</a>.
            </div>
            <div><hr/></div>
        </div>
</footer>
<footer class="page-footer deep-purple">
    <div class="footer-copyright">
        <div class="container">
            <div>
              <a href="https://www.calconnect.org/about/policies/copyright-licensing" class="deep-purple-text text-lighten-3">Copyright © The Calendaring and Scheduling Consortium</a>. The contents of this wiki are freely available licensed via a <a href="http://creativecommons.org/licenses/by/3.0/" class="deep-purple-text text-lighten-3">Creative Commons Attribution 3.0 Unported License</a>.
            </div>
        </div>
    </div>
</footer>

      
    <!--  Scripts-->
<script src="/js/jquery.min.js"></script>
<script src="/js/materialize.min.js"></script>
<script src="/js/init.js"></script>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-22761082-2', 'auto');
  ga('send', 'pageview');
</script>
<!-- /Analytics -->


  </body>

</html>
